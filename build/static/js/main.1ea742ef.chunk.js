(this.webpackJsonpselphie=this.webpackJsonpselphie||[]).push([[0],{11:function(e,t,a){e.exports=a.p+"static/media/selphie.d8fe446d.png"},17:function(e,t,a){e.exports=a.p+"static/media/no-image.f98b32ce.png"},29:function(e,t,a){e.exports=a.p+"static/media/moogle.d8c8ce4f.png"},31:function(e,t,a){e.exports=a(47)},36:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(13),o=a.n(r),c=a(3),i=(a(36),a(4)),m=a(14),s=Object(n.createContext)();function u(){return Object(n.useContext)(s)}var p=a(30);var d=function(e){var t=e.component,a=Object(p.a)(e,["component"]),n=u().authToken;return l.a.createElement(m.b,Object.assign({},a,{render:function(e){return n?l.a.createElement(t,e):l.a.createElement(m.a,{to:"/login"})}}))},g=a(11),f=a.n(g);var E=function(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),r=a[0],o=a[1],m=Object(n.useState)(""),s=Object(i.a)(m,2),p=s[0],d=s[1],g=Object(n.useState)(""),E=Object(i.a)(g,2),v=E[0],h=E[1],b=Object(n.useState)(!1),y=Object(i.a)(b,2),N=y[0],S=y[1],j=u().setAuthToken;function x(e){if(e.preventDefault(),document.getElementById("login-error").style.display="none",document.getElementById("validation-error").style.display="none",p.length>0&&v.length>0||(document.getElementById("validation-error").style.display="block",0)){S(!0);var t={username:p,password:v,audience:"MoogleApi"};fetch("https://chocoboapi.azurewebsites.net/v1/account/login",{method:"post",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){e.token?(j(e.token),o(!0),localStorage.setItem("user",JSON.stringify(e.user))):(console.log(e.message),document.getElementById("login-error").style.display="block",S(!1))}))}else console.log("validation failed")}return r?(e.history.push("/"),l.a.createElement(c.a,{to:"/"})):l.a.createElement("div",{className:"form-container login-screen"},l.a.createElement("div",{className:"overlay",style:{display:N?"block":"none"}},l.a.createElement("span",{className:"loader text-primary"},l.a.createElement("img",{className:"selphie-index fa-spin",src:f.a}))),l.a.createElement("p",null,"Enter credentials"),l.a.createElement("form",null,l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control login-username",placeholder:"enter username",value:p,onChange:function(e){d(e.target.value)}})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"password",className:"form-control",placeholder:"enter password",value:v,onChange:function(e){h(e.target.value)}})),l.a.createElement("div",{id:"login-error"},"invalid credentials"),l.a.createElement("div",{id:"validation-error"},"enter your credentials"),l.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block",onClick:function(e){return x(e)}},"Login")))},v=a(23),h=a.n(v);var b=function(e){var t=null;return localStorage.user&&localStorage.token&&(t=JSON.parse(localStorage.user)),l.a.createElement("nav",{className:"navbar navbar-expand navbar-light"},null!==t?l.a.createElement("span",null,l.a.createElement(c.c,{to:"/"},l.a.createElement("img",{className:"selphie-sm",src:f.a})," ",l.a.createElement("span",{className:"text-secondary"},"for MoogleApi")),l.a.createElement(c.c,{to:"/add"},l.a.createElement("span",{className:"character-add"},l.a.createElement("i",{className:"fas fa-plus-circle fa-2x"}))),l.a.createElement(c.c,{to:"/profile"},l.a.createElement("img",{className:"img-navbar",src:t.photo,alt:t.userName}))):l.a.createElement("span",null,"\xa0"))};var y=function(e){return localStorage.user&&localStorage.token&&JSON.parse(localStorage.user),l.a.createElement("footer",null,l.a.createElement("div",{className:"d-flex justify-content-center"},l.a.createElement(c.c,{to:"/"},l.a.createElement("i",{className:"fas fa-home"})),l.a.createElement(c.c,{to:"/"},l.a.createElement("i",{className:"fab fa-fort-awesome-alt"})),l.a.createElement(c.c,{to:"/add"},l.a.createElement("i",{className:"fas fa-plus-circle"})),l.a.createElement(c.c,{to:"/profile"},l.a.createElement("i",{className:"fas fa-user-circle"}))))};var N=function(e){var t=Object(n.useState)(""),a=Object(i.a)(t,2),r=a[0],o=a[1],m=Object(n.useState)(""),s=Object(i.a)(m,2),u=s[0],p=s[1],d=Object(n.useState)(""),g=Object(i.a)(d,2),f=g[0],E=g[1],v=Object(n.useState)(""),N=Object(i.a)(v,2),S=N[0],j=N[1],x=Object(n.useState)(""),w=Object(i.a)(x,2),O=w[0],k=w[1],B=Object(n.useState)(""),q=Object(i.a)(B,2),I=q[0],C=q[1],D=Object(n.useState)(""),V=Object(i.a)(D,2),A=V[0],P=V[1],F=Object(n.useState)(""),J=Object(i.a)(F,2),z=J[0],T=J[1],Y=Object(n.useState)(""),U=Object(i.a)(Y,2),M=U[0],L=U[1],H=JSON.parse(localStorage.user);function R(e){e.preventDefault();var t=localStorage.token,a=JSON.parse(localStorage.user);document.getElementById("validation-error").style.display="none";var n=new FormData;n.append("id",a.id),n.append("photo",""===M?a.photo:document.forms["profile-form"]["upload-photo"].files[0]),n.append("username",""===r?a.userName:r),n.append("email",""===u?a.email:u),n.append("firstname",""===f?a.firstName:f),n.append("lastname",""===S?a.lastName:S),n.append("age",""===O?a.age:O),n.append("birthdate",""===I?a.birthDate:I),n.append("city",""===A?a.city:A),n.append("state",""===z?a.state:z),fetch("https://chocoboapi.azurewebsites.net/v1/manage/update",{method:"put",headers:{Authorization:"Bearer "+t},body:n}).then((function(e){return e.json()})).then((function(e){e.user?localStorage.setItem("user",JSON.stringify(e.user)):(console.log("update failed"),console.log(e.errors))}))}return l.a.createElement("div",null,l.a.createElement(b,null),l.a.createElement("div",{className:"form-container form-container-profile component"},l.a.createElement("div",{className:"profile-container"},l.a.createElement("img",{id:"profile-photo",className:"profile-photo",src:H.photo,alt:H.userName,onClick:function(){document.getElementById("upload-photo").click()}})),l.a.createElement("form",{name:"profile-form",id:"profile-form",className:"profile-form",encType:"multipart/form-data",method:"put"},l.a.createElement("p",{className:"font-weight-bold login-username"},H.userName),l.a.createElement("p",{className:"font-small text-secondary"},"Joined ",h()(H.joinDate).format("MMMM DD, YYYY")),l.a.createElement("div",{className:"input-group"},l.a.createElement("input",{type:"text",className:"form-control login-username",defaultValue:H.userName,placeholder:"user name",onChange:function(e){o(e.target.value)}}),l.a.createElement("span",null,"\xa0"),l.a.createElement("input",{type:"text",className:"form-control",defaultValue:H.email,placeholder:"email",onChange:function(e){p(e.target.value)}})),l.a.createElement("div",{className:"input-group"},l.a.createElement("input",{type:"text",className:"form-control",defaultValue:H.firstName,placeholder:"first name",onChange:function(e){E(e.target.value)}}),l.a.createElement("span",null,"\xa0"),l.a.createElement("input",{type:"text",className:"form-control",defaultValue:H.lastName,placeholder:"last name",onChange:function(e){j(e.target.value)}})),l.a.createElement("div",{className:"input-group"},l.a.createElement("input",{type:"number",className:"form-control",defaultValue:H.age,placeholder:"00",onChange:function(e){k(e.target.value)}}),l.a.createElement("span",null,"\xa0"),l.a.createElement("input",{type:"date",className:"form-control",defaultValue:h()(H.birthDate).format("YYYY-MM-DD"),onChange:function(e){C(e.target.value)}})),l.a.createElement("div",{className:"input-group"},l.a.createElement("input",{type:"text",className:"form-control",defaultValue:H.city,placeholder:"city",onChange:function(e){P(e.target.value)}}),l.a.createElement("span",null,"\xa0"),l.a.createElement("input",{type:"text",className:"form-control",defaultValue:H.state,placeholder:"state",onChange:function(e){T(e.target.value)}})),l.a.createElement("div",{id:"validation-error"},"form validation failed"),l.a.createElement("input",{id:"upload-photo",type:"file",accept:"image/*",name:"photo",onChange:function(e){!function(e){var t=URL.createObjectURL(e.target.files[0]);t&&(document.getElementById("profile-photo").src=t,L(e.target.value))}(e)}}),l.a.createElement("div",{className:"button-container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement("button",{type:"submit",title:"Logout",className:"btn btn-primary btn-profile",onClick:function(){return localStorage.clear(),e.history.push("/login"),l.a.createElement(c.a,{to:"/login"})}},l.a.createElement("i",{className:"fas fa-door-closed"}))),l.a.createElement("div",{className:"col-md-12"},l.a.createElement("p",{className:"font-small"},"logout"))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement("button",{type:"submit",title:"Update Information",className:"btn btn-success btn-profile",onClick:function(e){R(e)}},l.a.createElement("i",{className:"fas fa-user-edit"}))),l.a.createElement("div",{className:"col-md-12"},l.a.createElement("p",{className:"font-small"},"update info")))))),l.a.createElement(y,null))},S=a(15),j=a.n(S),x=a(16),w=a(17),O=a.n(w),k=function(e){var t=Object(n.useState)(null),a=Object(i.a)(t,2),l=a[0],r=a[1];function o(){return(o=Object(x.a)(j.a.mark((function t(){var a,n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:return a=t.sent,t.next=5,a.json();case 5:n=t.sent,r(n);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(){o.apply(this,arguments)}()}),[e]),l};var B=function(e){var t=k("https://www.moogleapi.com/api/v1/characters");return t?l.a.createElement(l.a.Fragment,null,l.a.createElement(b,null),l.a.createElement("div",{className:"component"},l.a.createElement("div",{className:"form-container"},l.a.createElement("div",{className:"row mx-3 justify-content-center"},t.map((function(e){return l.a.createElement("div",{className:"card-character",key:e.id},l.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center"},l.a.createElement(c.c,{to:"/edit/"+e.id},e.pictures[0]?l.a.createElement("img",{className:"img-character",src:e.pictures[0].url,alt:e.name}):l.a.createElement("img",{className:"img-character",src:O.a,alt:e.name}),l.a.createElement("h6",{className:"text-center"},e.name))))}))))),l.a.createElement(y,null)):l.a.createElement(l.a.Fragment,null,l.a.createElement(b,null),l.a.createElement("div",{className:"component"},l.a.createElement("span",{className:"loader text-primary"},l.a.createElement("img",{className:"selphie-index fa-spin",src:f.a}))),l.a.createElement(y,null))},q=(a(18),a(24),a(9)),I=a(19),C=function(e){var t=Object(n.useState)(null),a=Object(i.a)(t,2),l=a[0],r=a[1];function o(){return(o=Object(x.a)(j.a.mark((function t(){var a,n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:return a=t.sent,t.next=5,a.json();case 5:n=t.sent,r(n[0]);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(){o.apply(this,arguments)}()}),[e]),l};var D=function(e){var t=e.match.params.id,a=C("https://www.moogleapi.com/api/v1/characters/"+t),r=Object(n.useState)({}),o=Object(i.a)(r,2),m=(o[0],o[1],Object(n.useState)(!1)),s=Object(i.a)(m,2),u=s[0],p=(s[1],JSON.parse(localStorage.token)),d=Object(n.useState)(!1),g=Object(i.a)(d,2),E=g[0],v=g[1],h=Object(n.useState)(!1),N=Object(i.a)(h,2),S=N[0],j=N[1],x=function(){return j(!1)};if(console.log(a),a){var w=a;if(!w.pictures[0]){var k=new Object;k.id="no-picture",k.url=O.a,k.primary=1,w.pictures.push(k)}return l.a.createElement(l.a.Fragment,null,l.a.createElement(b,null),l.a.createElement("div",{className:"component"},l.a.createElement("div",{className:"container top-margin"},l.a.createElement(q.a,Object.assign({show:S,onHide:x},e,{size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),l.a.createElement(q.a.Header,null,l.a.createElement(q.a.Title,null,"Test Account")),l.a.createElement(q.a.Body,null,l.a.createElement("p",null,"Your account doesn't have access to make changes.")),l.a.createElement(q.a.Footer,null,l.a.createElement(I.a,{variant:"secondary",onClick:x},"Close"))),l.a.createElement("div",{className:"overlay",style:{display:E?"block":"none"}},l.a.createElement("span",{className:"loader text-primary"},l.a.createElement("img",{className:"selphie-index fa-spin",src:f.a}))),l.a.createElement("form",{name:"character-form",id:"character-form",encType:"multipart/form-data",method:"post"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-8 col-md-8"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-6 col-md-6"},l.a.createElement("img",{id:w.pictures[0].id,className:"img-character-profile",src:w.pictures[0].url,alt:w.name,onClick:function(){document.getElementById("upload-photo").click()}}),l.a.createElement("input",{id:"upload-photo",type:"file",accept:"image/*",name:"photo",onChange:function(e){!function(e,t){var a=URL.createObjectURL(e.target.files[0]);a&&(document.getElementById(""+t).src=a)}(e,w.pictures[0].id)}}),l.a.createElement("div",{className:"button-container"},l.a.createElement("button",{type:"submit",title:"Update Photo",className:"btn btn-primary btn-profile",onClick:function(a){!function(a,n){var r;a.preventDefault(),v(!0);var o=new FormData;"no-picture"===n?r="https://www.moogleapi.com/api/v1/pictures/add/":(r="https://www.moogleapi.com/api/v1/pictures/update/",o.append("id",n)),o.append("photo",document.forms["character-form"]["upload-photo"].files[0]),o.append("url",document.getElementById(""+n).src),o.append("primary",1),o.append("collectionId",t),fetch(r,{method:"post",headers:{Authorization:"Bearer "+p},body:o}).then((function(t){if(200===t.status)v(!1);else{if(401===t.status)return localStorage.clear(),e.history.push("/login"),l.a.createElement(c.a,{to:"/login"});403===t.status?(v(!1),j(!0),console.log("user cannot add pictures")):(console.log("failed"),console.log(t.errors))}}))}(a,w.pictures[0].id)}},"Update Photo"))),l.a.createElement("div",{className:"col-sm-6 col-md-6"},l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"name",defaultValue:w.name,placeholder:"character name"}),l.a.createElement("label",null,"name")),l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"japaneseName",defaultValue:w.japaneseName,placeholder:"japanese name"}),l.a.createElement("label",null,"japanese name")),l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"age",defaultValue:w.age,placeholder:"age"}),l.a.createElement("label",null,"age")),l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"gender",defaultValue:w.gender,placeholder:"gender"}),l.a.createElement("label",null,"gender")),l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"race",defaultValue:w.race,placeholder:"race"}),l.a.createElement("label",null,"race")),l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"job",defaultValue:w.job,placeholder:"job"}),l.a.createElement("label",null,"class")),l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"height",defaultValue:w.height,placeholder:"height"}),l.a.createElement("label",null,"height")),l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"weight",defaultValue:w.weight,placeholder:"weight"}),l.a.createElement("label",null,"weight")),l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"origin",defaultValue:w.origin,placeholder:"origin"}),l.a.createElement("label",null,"origin"))),l.a.createElement("div",{className:"col-sm-12 col-md-12"},l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("textarea",{className:"character-form-control floating-textarea",name:"description",defaultValue:w.description,placeholder:"description"}),l.a.createElement("label",null,"description")),l.a.createElement("div",{className:"button-container"},l.a.createElement("button",{type:"submit",title:"Delete",className:"btn btn-secondary btn-profile mr-2",onClick:function(a){!function(a){a.preventDefault(),v(!0),fetch("https://www.moogleapi.com/api/v1/characters/delete/"+t,{method:"delete",headers:{Authorization:"Bearer "+p}}).then((function(t){return 200===t.status?(e.history.push("/"),l.a.createElement(c.a,{to:"/"})):401===t.status?(localStorage.clear(),e.history.push("/login"),l.a.createElement(c.a,{to:"/login"})):void(403===t.status?(v(!1),j(!0),console.log("user cannot delete character")):(console.log("delete failed"),console.log(t.errors)))}))}(a)}},"Delete Character"),l.a.createElement("button",{type:"submit",title:"Save",className:"btn btn-primary btn-profile ml-2",onClick:function(a){!function(a){a.preventDefault(),v(!0);var n=new FormData;n.append("id",t),n.append("name",document.querySelector('[name="name"]').value),n.append("japaneseName",document.querySelector('[name="japaneseName"]').value),n.append("age",document.querySelector('[name="age"]').value),n.append("gender",document.querySelector('[name="gender"]').value),n.append("race",document.querySelector('[name="race"]').value),n.append("job",document.querySelector('[name="job"]').value),n.append("height",document.querySelector('[name="height"]').value),n.append("weight",document.querySelector('[name="weight"]').value),n.append("origin",document.querySelector('[name="origin"]').value),n.append("description",document.querySelector('[name="description"]').value),fetch("https://www.moogleapi.com/api/v1/characters/update/"+t,{method:"put",headers:{Authorization:"Bearer "+p},body:n}).then((function(a){return 200===a.status?(e.history.push("/edit/"+t),l.a.createElement(c.a,{to:"/edit/"+t})):401===a.status?(localStorage.clear(),e.history.push("/login"),l.a.createElement(c.a,{to:"/login"})):void(403===a.status?(v(!1),j(!0),console.log("user cannot update character")):(console.log("update failed"),console.log(a.errors)))}))}(a)}},"Update Character"))))),l.a.createElement("div",{className:"col-sm-4 col-md-4"},l.a.createElement("select",{id:"stat-select",className:"form-control stat-select mb-25",onChange:function(e){!function(e){var t,a=document.getElementsByClassName("stat-container");for(t=0;t<a.length;t+=1)a[t].style.display="none";document.getElementById(e.target.value).style.display="block"}(e)}},w.stats.length>0?l.a.createElement("option",{value:"0"},"Select a stat model..."):l.a.createElement("option",{value:"0"},"No stats entered..."),l.a.createElement("option",{value:"1"},"Add a new stat model..."),w.stats.length>0?w.stats.map((function(e){return l.a.createElement("option",{key:e.id,value:e.id},e.platform," - ",e.class," - level: ",e.level)})):l.a.createElement(l.a.Fragment,null)),l.a.createElement("div",{id:"0",style:{display:u?"block":"none"},className:"stat-container"}),l.a.createElement("div",{id:"1",style:{display:u?"block":"none"},className:"stat-container"},l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"platform",placeholder:"platform"}),l.a.createElement("label",null,"platform")),l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"class",placeholder:"class"}),l.a.createElement("label",null,"class")),l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"level",placeholder:"level"}),l.a.createElement("label",null,"level")),l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"hitPoints",placeholder:"hit points"}),l.a.createElement("label",null,"hit points")),l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"manaPoints",placeholder:"mana points"}),l.a.createElement("label",null,"mana points")),l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"attack",placeholder:"attack"}),l.a.createElement("label",null,"attack")),l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"defense",placeholder:"defense"}),l.a.createElement("label",null,"defense")),l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"magic",placeholder:"magic"}),l.a.createElement("label",null,"magic")),l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"magicDefense",placeholder:"magic defense"}),l.a.createElement("label",null,"magic defense")),l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"agility",placeholder:"agility"}),l.a.createElement("label",null,"agility")),l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"spirit",placeholder:"spirit"}),l.a.createElement("label",null,"spirit")),l.a.createElement("div",{className:"button-container"},l.a.createElement("button",{type:"submit",title:"Save Stats",className:"btn btn-primary btn-profile",onClick:function(a){!function(a){a.preventDefault(),v(!0);var n=new FormData;n.append("platform",document.getElementById("1").querySelector('[name="platform"]').value),n.append("class",document.getElementById("1").querySelector('[name="class"]').value),n.append("level",document.getElementById("1").querySelector('[name="level"]').value),n.append("hitPoints",document.getElementById("1").querySelector('[name="hitPoints"]').value),n.append("manaPoints",document.getElementById("1").querySelector('[name="manaPoints"]').value),n.append("attack",document.getElementById("1").querySelector('[name="attack"]').value),n.append("defense",document.getElementById("1").querySelector('[name="defense"]').value),n.append("magic",document.getElementById("1").querySelector('[name="magic"]').value),n.append("magicDefense",document.getElementById("1").querySelector('[name="magicDefense"]').value),n.append("agility",document.getElementById("1").querySelector('[name="agility"]').value),n.append("spirit",document.getElementById("1").querySelector('[name="spirit"]').value),n.append("collectionId",t),fetch("https://www.moogleapi.com/api/v1/stats/add/",{method:"post",headers:{Authorization:"Bearer "+p},body:n}).then((function(a){return 200===a.status?(e.history.push("/edit/"+t),l.a.createElement(c.a,{to:"/edit/"+t})):401===a.status?(localStorage.clear(),e.history.push("/login"),l.a.createElement(c.a,{to:"/login"})):void(403===a.status?(v(!1),j(!0),console.log("user cannot add stats")):(console.log("add failed"),console.log(a.errors)))}))}(a)}},"Add Stats"))),w.stats.map((function(a){return l.a.createElement("div",{id:a.id,key:a.id,style:{display:u?"block":"none"},className:"stat-container"},l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"platform",defaultValue:a.platform,placeholder:"platform"}),l.a.createElement("label",null,"platform")),l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"class",defaultValue:a.class,placeholder:"class"}),l.a.createElement("label",null,"class")),l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"level",defaultValue:a.level,placeholder:"level"}),l.a.createElement("label",null,"level")),l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"hitPoints",defaultValue:a.hitPoints,placeholder:"hit points"}),l.a.createElement("label",null,"hit points")),l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"manaPoints",defaultValue:a.manaPoints,placeholder:"mana points"}),l.a.createElement("label",null,"mana points")),l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"attack",defaultValue:a.attack,placeholder:"attack"}),l.a.createElement("label",null,"attack")),l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"defense",defaultValue:a.defense,placeholder:"defense"}),l.a.createElement("label",null,"defense")),l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"magic",defaultValue:a.magic,placeholder:"magic"}),l.a.createElement("label",null,"magic")),l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"magicDefense",defaultValue:a.magicDefense,placeholder:"magic defense"}),l.a.createElement("label",null,"magic defense")),l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"agility",defaultValue:a.agility,placeholder:"agility"}),l.a.createElement("label",null,"defense")),l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"spirit",defaultValue:a.spirit,placeholder:"spirit"}),l.a.createElement("label",null,"spirit")),l.a.createElement("div",{className:"button-container"},l.a.createElement("button",{type:"submit",title:"Delete",className:"btn btn-secondary btn-profile mr-2",onClick:function(n){!function(a,n){a.preventDefault(),v(!0),fetch("https://www.moogleapi.com/api/v1/stats/delete/"+n,{method:"delete",headers:{Authorization:"Bearer "+p}}).then((function(a){return 200===a.status?(e.history.push("/edit/"+t),l.a.createElement(c.a,{to:"/edit/"+t})):401===a.status?(localStorage.clear(),e.history.push("/login"),l.a.createElement(c.a,{to:"/login"})):void(403===a.status?(v(!1),j(!0),console.log("user cannot delete stats")):(console.log("delete failed"),console.log(a.errors)))}))}(n,a.id)}},"Delete Stats"),l.a.createElement("button",{type:"submit",title:"Update Stats",className:"btn btn-primary btn-profile ml-2",onClick:function(n){!function(a,n){a.preventDefault(),v(!0);var r=new FormData;r.append("id",n),r.append("platform",document.getElementById(""+n).querySelector('[name="platform"]').value),r.append("class",document.getElementById(""+n).querySelector('[name="class"]').value),r.append("level",document.getElementById(""+n).querySelector('[name="level"]').value),r.append("hitPoints",document.getElementById(""+n).querySelector('[name="hitPoints"]').value),r.append("manaPoints",document.getElementById(""+n).querySelector('[name="manaPoints"]').value),r.append("attack",document.getElementById(""+n).querySelector('[name="attack"]').value),r.append("defense",document.getElementById(""+n).querySelector('[name="defense"]').value),r.append("magic",document.getElementById(""+n).querySelector('[name="magic"]').value),r.append("magicDefense",document.getElementById(""+n).querySelector('[name="magicDefense"]').value),r.append("agility",document.getElementById(""+n).querySelector('[name="agility"]').value),r.append("spirit",document.getElementById(""+n).querySelector('[name="spirit"]').value),fetch("https://www.moogleapi.com/api/v1/stats/update/"+n,{method:"put",headers:{Authorization:"Bearer "+p},body:r}).then((function(a){return 200===a.status?(e.history.push("/edit/"+t),l.a.createElement(c.a,{to:"/edit/"+t})):401===a.status?(localStorage.clear(),e.history.push("/login"),l.a.createElement(c.a,{to:"/login"})):void(403===a.status?(v(!1),j(!0),console.log("user cannot update stats")):(console.log("update failed"),console.log(a.errors)))}))}(n,a.id)}},"Update Stats")))}))))))),l.a.createElement(y,null))}return l.a.createElement(l.a.Fragment,null,l.a.createElement(b,null),l.a.createElement("div",null,l.a.createElement("span",{className:"loader text-primary"},l.a.createElement("img",{className:"selphie-index fa-spin",src:f.a}))),l.a.createElement(y,null))},V=a(29),A=a.n(V);var P=function(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),r=(a[0],a[1],JSON.parse(localStorage.token)),o=Object(n.useState)(!1),m=Object(i.a)(o,2),s=m[0],u=m[1],p=Object(n.useState)(!1),d=Object(i.a)(p,2),g=d[0],E=d[1],v=function(){return E(!1)};return l.a.createElement(l.a.Fragment,null,l.a.createElement(b,null),l.a.createElement("div",{className:"component"},l.a.createElement("div",{className:"container top-margin"},l.a.createElement(q.a,Object.assign({show:g,onHide:v},e,{size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),l.a.createElement(q.a.Header,null,l.a.createElement(q.a.Title,null,"Test Account")),l.a.createElement(q.a.Body,null,l.a.createElement("p",null,"Your account doesn't have access to make changes.")),l.a.createElement(q.a.Footer,null,l.a.createElement(I.a,{variant:"secondary",onClick:v},"Close"))),l.a.createElement("div",{className:"overlay",style:{display:s?"block":"none"}},l.a.createElement("span",{className:"loader text-primary"},l.a.createElement("img",{className:"selphie-index fa-spin",src:f.a}))),l.a.createElement("form",{name:"character-form",id:"character-form",encType:"multipart/form-data",method:"put"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-12 col-md-12"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-6 col-md-6"},l.a.createElement("img",{className:"img-character-profile tilt moogle",src:A.a}),l.a.createElement("p",{className:"mt-5 font-weight-bold"},"You'll be able to upload pictures and add/edit stats after the initial creation.")),l.a.createElement("div",{className:"col-sm-6 col-md-6"},l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"name",placeholder:"character name"}),l.a.createElement("label",null,"name")),l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"japaneseName",placeholder:"japanese name"}),l.a.createElement("label",null,"japanese name")),l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"age",placeholder:"age"}),l.a.createElement("label",null,"age")),l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"gender",placeholder:"gender"}),l.a.createElement("label",null,"gender")),l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"race",placeholder:"race"}),l.a.createElement("label",null,"race")),l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"job",placeholder:"class"}),l.a.createElement("label",null,"class")),l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"height",placeholder:"height"}),l.a.createElement("label",null,"height")),l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"weight",placeholder:"weight"}),l.a.createElement("label",null,"weight")),l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"origin",placeholder:"origin"}),l.a.createElement("label",null,"origin"))),l.a.createElement("div",{className:"col-sm-12 col-md-12"},l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("textarea",{className:"character-form-control floating-textarea",name:"description",placeholder:"description"}),l.a.createElement("label",null,"description")),l.a.createElement("div",{className:"button-container"},l.a.createElement("button",{type:"submit",title:"Add Character",className:"btn btn-primary btn-profile",onClick:function(t){!function(t){t.preventDefault(),u(!0);var a=new FormData;a.append("name",document.querySelector('[name="name"]').value),a.append("japaneseName",document.querySelector('[name="japaneseName"]').value),a.append("age",document.querySelector('[name="age"]').value),a.append("gender",document.querySelector('[name="gender"]').value),a.append("race",document.querySelector('[name="race"]').value),a.append("job",document.querySelector('[name="job"]').value),a.append("height",document.querySelector('[name="height"]').value),a.append("weight",document.querySelector('[name="weight"]').value),a.append("origin",document.querySelector('[name="origin"]').value),a.append("description",document.querySelector('[name="description"]').value),fetch("https://www.moogleapi.com/api/v1/characters/add",{method:"post",headers:{Authorization:"Bearer "+r},body:a}).then((function(t){return 200===t.status?t.json().then((function(t){return e.history.push("/edit/"+t.character.id),l.a.createElement(c.a,{to:"/edit/"+t.character.id})})):401===t.status?(localStorage.clear(),e.history.push("/login"),l.a.createElement(c.a,{to:"/login"})):void(403===t.status||405===t.status?(u(!1),E(!0),console.log("user cannot add characters")):(console.log("add failed"),console.log(t.errors)))}))}(t)}},"Add Character"))))))))),l.a.createElement(y,null))};a(45),a(46);var F=function(e){var t=JSON.parse(localStorage.getItem("token")),a=Object(n.useState)(t),r=Object(i.a)(a,2),o=r[0],u=r[1];return l.a.createElement(s.Provider,{value:{authToken:o,setAuthToken:function(e){localStorage.setItem("token",JSON.stringify(e)),u(e)}}},l.a.createElement(c.b,{basename:"/"},l.a.createElement(d,{exact:!0,path:"/",component:B}),l.a.createElement(m.b,{exact:!0,path:"/login/",component:E}),l.a.createElement(d,{exact:!0,path:"/profile/",component:N}),l.a.createElement(d,{exact:!0,path:"/add/",component:P}),l.a.createElement(d,{exact:!0,path:"/edit/:id/",component:D})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(c.a,null,l.a.createElement(F,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[31,1,2]]]);
//# sourceMappingURL=main.1ea742ef.chunk.js.map