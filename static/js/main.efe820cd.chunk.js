(this.webpackJsonpselphie=this.webpackJsonpselphie||[]).push([[0],{12:function(e,a,t){"use strict";(function(e){function n(e){var a=JSON.parse(localStorage.refreshToken);fetch("https://chocobo.moogleapi.com/v1/account/refresh",{method:"post",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json",Authorization:"Bearer "+e},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e){localStorage.setItem("accessToken",JSON.stringify(e.accessToken)),localStorage.setItem("refreshToken",JSON.stringify(e.refreshToken))}))}t.d(a,"a",(function(){return n}))}).call(this,t(43).Buffer)},18:function(e,a,t){e.exports=t.p+"static/media/no-image.f98b32ce.png"},28:function(e,a,t){e.exports=t.p+"static/media/selphie.9a7a1537.png"},29:function(e,a,t){e.exports=t.p+"static/media/moogle.d8c8ce4f.png"},31:function(e,a,t){e.exports=t(50)},36:function(e,a,t){},49:function(e,a,t){},50:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(14),o=t.n(r),c=t(2),i=(t(36),t(4)),s=t(15),m=Object(n.createContext)();function u(){return Object(n.useContext)(m)}var p=t(30);var d=function(e){var a=e.component,t=Object(p.a)(e,["component"]),n=u().authToken;return l.a.createElement(s.b,Object.assign({},t,{render:function(e){return n?l.a.createElement(a,e):l.a.createElement(s.a,{to:"/login"})}}))};var f=function(e){var a=Object(n.useState)(!1),t=Object(i.a)(a,2),r=t[0],o=t[1],s=Object(n.useState)(""),m=Object(i.a)(s,2),p=m[0],d=m[1],f=Object(n.useState)(""),g=Object(i.a)(f,2),E=g[0],v=g[1],h=Object(n.useState)(!1),N=Object(i.a)(h,2),y=N[0],b=N[1],S=u().setAuthToken;function x(e){if(e.preventDefault(),document.getElementById("login-error").style.display="none",document.getElementById("validation-error").style.display="none",p.length>0&&E.length>0||(document.getElementById("validation-error").style.display="block",0)){b(!0);var a={username:p,password:E,audience:"moogleAPI"};fetch("https://chocobo.moogleapi.com/v1/account/login",{method:"post",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e){e.accessToken?(S(e.accessToken),o(!0),localStorage.setItem("refreshToken",JSON.stringify(e.refreshToken)),localStorage.setItem("user",JSON.stringify(e.user)),localStorage.setItem("component",JSON.stringify("index"))):(console.log(e.message),document.getElementById("login-error").style.display="block",b(!1))}))}else console.log("validation failed")}return r?(e.history.push("/"),l.a.createElement(c.a,{to:"/"})):l.a.createElement("div",{className:"form-container login-screen"},l.a.createElement("div",{className:"overlay",style:{display:y?"block":"none"}},l.a.createElement("span",{className:"loader text-primary"},l.a.createElement("i",{className:"fab fa-superpowers fa-spin text-muted"}))),l.a.createElement("p",null,"Enter credentials"),l.a.createElement("form",null,l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control login-username",placeholder:"enter username",value:p,onChange:function(e){d(e.target.value)}})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"password",className:"form-control",placeholder:"enter password",value:E,onChange:function(e){v(e.target.value)}})),l.a.createElement("div",{id:"login-error"},"invalid credentials"),l.a.createElement("div",{id:"validation-error"},"enter your credentials"),l.a.createElement("p",{className:"small text-muted pointer",onClick:function(e){return x(e)}},"Login")))},g=t(11),E=t.n(g),v=t(16),h=t(17),N=t.n(h),y=t(28),b=t.n(y);var S=function(e){var a,t=null;return localStorage.user&&localStorage.accessToken&&(a=(t=JSON.parse(localStorage.user)).photos.filter((function(e){return 1==e.portrait}))[0].url),l.a.createElement("nav",{className:"navbar navbar-expand navbar-light"},null!==t?l.a.createElement("span",null,l.a.createElement(c.c,{to:"/index"},l.a.createElement("img",{className:"selphie-sm",decoding:"sync",src:b.a,alt:"Selphie for MoogleApi"})),l.a.createElement(c.c,{to:"/feed",className:"feed-link"},"feed"),l.a.createElement(c.c,{to:"/index",className:"font-lobster"},"selphie"),l.a.createElement(c.c,{to:"/add"},l.a.createElement("div",{className:"character-add"},l.a.createElement("i",{className:"fas fa-user-plus"}))),l.a.createElement(c.c,{to:"/profile"},l.a.createElement("img",{className:"img-navbar",src:a,alt:t.userName}))):l.a.createElement(c.c,{to:"/login",className:"font-lobster"},"selphie"))};var x=function(e){function a(e){localStorage.setItem("component",JSON.stringify(e))}return localStorage.component?l.a.createElement("footer",null,l.a.createElement("div",{className:"d-flex justify-content-center"},l.a.createElement(c.c,{to:"/feed",className:"feed"===JSON.parse(localStorage.component)?"footer-active":"",onClick:function(e){a("feed")}},l.a.createElement("i",{className:"fas fa-stream"})),l.a.createElement(c.c,{to:"/index",className:"index"===JSON.parse(localStorage.component)?"footer-active":"",onClick:function(e){a("index")}},l.a.createElement("i",{className:"fas fa-clipboard-list"})),l.a.createElement(c.c,{to:"/add",className:"add"===JSON.parse(localStorage.component)?"footer-active":"",onClick:function(e){a("add")}},l.a.createElement("i",{className:"fas fa-user-plus"})),l.a.createElement(c.c,{to:"/profile",className:"profile"===JSON.parse(localStorage.component)?"footer-active":"",onClick:function(e){a("profile")}},l.a.createElement("i",{className:"fas fa-user-cog"})))):l.a.createElement("footer",null,l.a.createElement("div",{className:"d-flex justify-content-center"},l.a.createElement(c.c,{to:"/feed",onClick:function(e){a("feed")}},l.a.createElement("i",{className:"fas fa-stream"})),l.a.createElement(c.c,{to:"/",onClick:function(e){a("index")}},l.a.createElement("i",{className:"fas fa-clipboard-list"})),l.a.createElement(c.c,{to:"/add",onClick:function(e){a("add")}},l.a.createElement("i",{className:"fas fa-user-plus"})),l.a.createElement(c.c,{to:"/profile",onClick:function(e){a("profile")}},l.a.createElement("i",{className:"fas fa-user-alt"}))))};var w=function(e){var a=function(e){var a=Object(n.useState)(null),t=Object(i.a)(a,2),l=t[0],r=t[1];function o(){return c.apply(this,arguments)}function c(){return(c=Object(v.a)(E.a.mark((function a(){var t,n;return E.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch(e);case 2:return t=a.sent,a.next=5,t.json();case 5:n=a.sent,r(n);case 7:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return Object(n.useEffect)((function(){o()}),[e]),[l,o]}("https://www.moogleapi.com/api/v1/feeds"),t=Object(i.a)(a,2),r=t[0],o=t[1];function s(e,a,t){return m.apply(this,arguments)}function m(){return(m=Object(v.a)(E.a.mark((function e(a,t,n){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),fetch("https://www.moogleapi.com/api/v1/feeds/"+n+"/"+t,{method:"put"}).then((function(e){200===e.status&&o("https://www.moogleapi.com/api/v1/feeds")}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r?l.a.createElement(l.a.Fragment,null,l.a.createElement(S,null),l.a.createElement("div",{className:"component"},l.a.createElement("div",{className:"mt-5 pt-4"},r.map((function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"row row-feed mx-3 mb-2 pt-2"},l.a.createElement("div",{className:"col-xs-1 col-sm-1 col-md-5 col-lg-5"},l.a.createElement("img",{className:"img-feed",decoding:"sync",src:e.userPhoto,alt:e.userName}),l.a.createElement("span",{className:"ml-3 align-top text-muted"},e.userName),l.a.createElement("p",{className:"feed-timestamp text-muted"},N()(e.timeStamp).local().format("MMMM D, YYYY [at] h:mm a"))),l.a.createElement("div",{className:"col-xs-11 col-sm-11 col-md-11 col-lg-11"},l.a.createElement("div",{className:"row mb-3"},l.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12 text-left feed-text"},1===e.update?l.a.createElement("span",null,l.a.createElement(c.c,{to:"/edit/"+e.characterId},e.characterName)," had something updated in their general information."):"",1===e.addition?l.a.createElement("span",null,l.a.createElement(c.c,{to:"/edit/"+e.characterId},e.characterName)," was added to the API! Let's everybody welcome ",l.a.createElement(c.c,{to:"/edit/"+e.characterId},e.characterName)," to the team!"):"",1===e.deletion?l.a.createElement("span",null,e.characterName," was deleted from the API. This is a sad day for the team. Let's all wish ",e.characterName," the best in their success. May you find a place in a new API in the near future! (Coming soon, probably.)"):"",1===e.photoUpdate?l.a.createElement("span",null,e.userFirstName," changed ",l.a.createElement(c.c,{to:"/edit/"+e.characterId},e.characterName),"'s photo. I guess it was time for a change."):"",1===e.statUpdate?l.a.createElement("span",null,e.characterName," had some stats updated."):"",1===e.statAddition?l.a.createElement("span",null,l.a.createElement(c.c,{to:"/edit/"+e.characterId},e.characterName)," had some stats added by ",e.userFirstName,". Life is full of leveling up."):"",1===e.statDeletion&&0===e.deletion?l.a.createElement("span",null,e.characterName," had some stats deleted. I guess they weren't needed."):"")),l.a.createElement("div",{className:"row text-muted pb-3 flex-row-reverse"},l.a.createElement("span",{className:"pointer",onClick:function(a){s(a,e.id,"love")}},l.a.createElement("i",{className:"far fa-heart"}),l.a.createElement("span",{className:"small feed-reaction-count"},e.love)),l.a.createElement("span",{className:"pointer",onClick:function(a){s(a,e.id,"dislike")}},l.a.createElement("i",{className:"far fa-thumbs-down"}),l.a.createElement("span",{className:"small feed-reaction-count"},e.dislike)),l.a.createElement("span",{className:"pointer",onClick:function(a){s(a,e.id,"like")}},l.a.createElement("i",{className:"far fa-thumbs-up"}),l.a.createElement("span",{className:"small feed-reaction-count"},e.like))))))})))),l.a.createElement(x,null)):l.a.createElement(l.a.Fragment,null,l.a.createElement(S,null),l.a.createElement("div",{className:"component"},l.a.createElement("span",{className:"loader text-primary"},l.a.createElement("i",{className:"fab fa-superpowers fa-spin text-muted"}))),l.a.createElement(x,null))},k=t(12);var j=function(e){var a=Object(n.useState)(""),t=Object(i.a)(a,2),r=t[0],o=t[1],s=Object(n.useState)(""),m=Object(i.a)(s,2),u=m[0],p=m[1],d=Object(n.useState)(""),f=Object(i.a)(d,2),g=f[0],E=f[1],v=Object(n.useState)(""),h=Object(i.a)(v,2),y=h[0],b=h[1],w=Object(n.useState)(""),j=Object(i.a)(w,2),O=j[0],I=j[1],B=Object(n.useState)(""),q=Object(i.a)(B,2),C=q[0],T=q[1],J=Object(n.useState)(""),D=Object(i.a)(J,2),A=D[0],V=D[1],P=Object(n.useState)(""),F=Object(i.a)(P,2),U=F[0],Y=F[1],L=Object(n.useState)(""),M=Object(i.a)(L,2),z=M[0],W=M[1],R=JSON.parse(localStorage.user),H=R.photos.filter((function(e){return 1==e.portrait}))[0].url;function $(e){e.preventDefault(),Object(k.a)(JSON.parse(localStorage.accessToken));var a=JSON.parse(localStorage.user);document.getElementById("validation-error").style.display="none";var t=new FormData;t.append("id",a.id),t.append("photo",""===z?a.photo:document.forms["profile-form"]["upload-photo"].files[0]),t.append("username",""===r?a.userName:r),t.append("email",""===u?a.email:u),t.append("firstname",""===g?a.firstName:g),t.append("lastname",""===y?a.lastName:y),t.append("age",""===O?a.age:O),t.append("birthdate",""===C?a.birthDate:C),t.append("city",""===A?a.city:A),t.append("state",""===U?a.state:U);var n=JSON.parse(localStorage.accessToken);fetch("https://chocobo.moogleapi.com/v1/manage/update",{method:"put",headers:{Authorization:"Bearer "+n},body:t}).then((function(e){return e.json()})).then((function(e){e.user?localStorage.setItem("user",JSON.stringify(e.user)):(console.log("update failed"),console.log(e.errors))}))}return l.a.createElement("div",null,l.a.createElement(S,null),l.a.createElement("div",{className:"form-container form-container-profile component"},l.a.createElement("div",{className:"profile-container"},l.a.createElement("img",{id:"profile-photo",className:"profile-photo",src:H,alt:R.userName,onClick:function(){document.getElementById("upload-photo").click()}})),l.a.createElement("form",{name:"profile-form",id:"profile-form",className:"profile-form",encType:"multipart/form-data",method:"put"},l.a.createElement("p",{className:"font-weight-bold login-username"},R.userName),l.a.createElement("p",{className:"font-small text-secondary"},"Joined ",N()(R.joinDate).format("MMMM DD, YYYY")),l.a.createElement("div",{className:"input-group mb-2"},l.a.createElement("input",{type:"text",className:"form-control login-username",defaultValue:R.userName,placeholder:"user name",onChange:function(e){o(e.target.value)}})),l.a.createElement("div",{className:"input-group mb-2"},l.a.createElement("input",{type:"text",className:"form-control",defaultValue:R.email,placeholder:"email",onChange:function(e){p(e.target.value)}})),l.a.createElement("div",{className:"input-group mb-2"},l.a.createElement("input",{type:"text",className:"form-control",defaultValue:R.firstName,placeholder:"first name",onChange:function(e){E(e.target.value)}})),l.a.createElement("div",{className:"input-group mb-2"},l.a.createElement("input",{type:"text",className:"form-control",defaultValue:R.lastName,placeholder:"last name",onChange:function(e){b(e.target.value)}})),l.a.createElement("div",{className:"input-group mb-2"},l.a.createElement("input",{type:"number",className:"form-control",defaultValue:R.age,placeholder:"00",onChange:function(e){I(e.target.value)}})),l.a.createElement("div",{className:"input-group mb-2"},l.a.createElement("input",{type:"date",className:"form-control",defaultValue:N()(R.birthDate).format("YYYY-MM-DD"),onChange:function(e){T(e.target.value)}})),l.a.createElement("div",{className:"input-group mb-2"},l.a.createElement("input",{type:"text",className:"form-control",defaultValue:R.city,placeholder:"city",onChange:function(e){V(e.target.value)}})),l.a.createElement("div",{className:"input-group mb-2"},l.a.createElement("input",{type:"text",className:"form-control",defaultValue:R.state,placeholder:"state",onChange:function(e){Y(e.target.value)}})),l.a.createElement("div",{id:"validation-error"},"form validation failed"),l.a.createElement("input",{id:"upload-photo",type:"file",accept:"image/*",name:"photo",onChange:function(e){!function(e){var a=URL.createObjectURL(e.target.files[0]);a&&(document.getElementById("profile-photo").src=a,W(e.target.value))}(e)}}),l.a.createElement("div",{className:"button-container"},l.a.createElement("div",{className:"row small"},l.a.createElement("div",{className:"col-md-12 small"},l.a.createElement("p",{title:"Logout",className:"text-muted pointer",onClick:function(){return localStorage.clear(),e.history.push("/feed"),l.a.createElement(c.a,{to:"/feed"})}},"Logout"))),l.a.createElement("div",{className:"row small"},l.a.createElement("div",{className:"col-md-12 small"},l.a.createElement("p",{title:"Update Information",className:"text-muted pointer",onClick:function(e){$(e)}},"Update Info")))))),l.a.createElement(x,null))},O=t(18),I=t.n(O),B=function(e){var a=Object(n.useState)(null),t=Object(i.a)(a,2),l=t[0],r=t[1];function o(){return(o=Object(v.a)(E.a.mark((function a(){var t,n;return E.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch(e);case 2:return t=a.sent,a.next=5,t.json();case 5:n=a.sent,r(n);case 7:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(){o.apply(this,arguments)}()}),[e]),l};var q=function(e){var a=B("https://www.moogleapi.com/api/v1/characters");return a?l.a.createElement(l.a.Fragment,null,l.a.createElement(S,null),l.a.createElement("div",{className:"component"},l.a.createElement("div",{className:"form-container"},l.a.createElement("div",{className:"row mx-3 justify-content-center"},a.map((function(e){return l.a.createElement("div",{className:"card-character",key:e.id},l.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center"},l.a.createElement(c.c,{to:"/edit/"+e.id},e.pictures[0]?l.a.createElement("img",{className:"img-character",src:e.pictures[0].url,alt:e.name}):l.a.createElement("img",{className:"img-character",src:I.a,alt:e.name}),l.a.createElement("h6",{className:"text-center"},e.name))))}))))),l.a.createElement(x,null)):l.a.createElement(l.a.Fragment,null,l.a.createElement(S,null),l.a.createElement("div",{className:"component"},l.a.createElement("span",{className:"loader text-primary"},l.a.createElement("i",{className:"fab fa-superpowers fa-spin text-muted"}))),l.a.createElement(x,null))},C=t(9),T=t(19),J=function(e){var a=Object(n.useState)(null),t=Object(i.a)(a,2),l=t[0],r=t[1];function o(){return(o=Object(v.a)(E.a.mark((function a(){var t,n;return E.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch(e);case 2:return t=a.sent,a.next=5,t.json();case 5:n=a.sent,r(n[0]);case 7:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(){o.apply(this,arguments)}()}),[e]),l};var D=function(e){var a=e.match.params.id,t=J("https://www.moogleapi.com/api/v1/characters/"+a),r=Object(n.useState)(!1),o=Object(i.a)(r,2),s=o[0],m=(o[1],Object(n.useState)(!1)),u=Object(i.a)(m,2),p=u[0],d=u[1],f=Object(n.useState)(!1),g=Object(i.a)(f,2),E=g[0],v=g[1],h=function(){return v(!1)};function N(e){var a=0;return e&&1===e&&(a=document.getElementById("1").querySelector('[name="platform"]').value>0?0:1,a=document.getElementById("1").querySelector('[name="class"]').value>0?0:1,a=document.getElementById("1").querySelector('[name="level"]').value>0?0:1,a=document.getElementById("1").querySelector('[name="hitPoints"]').value>0?0:1,a=document.getElementById("1").querySelector('[name="manaPoints"]').value>0?0:1,a=document.getElementById("1").querySelector('[name="attack"]').value>0?0:1,a=document.getElementById("1").querySelector('[name="defense"]').value>0?0:1,a=document.getElementById("1").querySelector('[name="magic"]').value>0?0:1,a=document.getElementById("1").querySelector('[name="magicDefense"]').value>0?0:1,a=document.getElementById("1").querySelector('[name="agility"]').value>0?0:1,a=document.getElementById("1").querySelector('[name="spirit"]').value>0?0:1),0===a?(document.getElementById("validation-error").style.display="none",!0):(document.getElementById("validation-error").style.display="block",!1)}if(t){var y=t;if(!y.pictures[0]){var b={id:"no-picture",url:I.a,primary:1};y.pictures.push(b)}return l.a.createElement(l.a.Fragment,null,l.a.createElement(S,null),l.a.createElement("div",{className:"component"},l.a.createElement("div",{className:"container top-margin"},l.a.createElement(C.a,Object.assign({show:E,onHide:h},e,{size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),l.a.createElement(C.a.Header,null,l.a.createElement(C.a.Title,null,"Test Account")),l.a.createElement(C.a.Body,null,l.a.createElement("p",null,"Your account doesn't have access to make changes.")),l.a.createElement(C.a.Footer,null,l.a.createElement(T.a,{variant:"secondary",onClick:h},"Close"))),l.a.createElement("div",{className:"overlay",style:{display:p?"block":"none"}},l.a.createElement("span",{className:"loader text-primary"},l.a.createElement("i",{className:"fab fa-superpowers fa-spin text-muted"}))),l.a.createElement("div",{id:"validation-error"},"form validation failed"),l.a.createElement("form",{name:"character-form",id:"character-form",encType:"multipart/form-data",method:"post"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-8 col-md-8"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-6 col-md-6"},l.a.createElement("img",{id:y.pictures[0].id,className:"img-character-profile",src:y.pictures[0].url,alt:y.name,onClick:function(){document.getElementById("upload-photo").click()}}),l.a.createElement("input",{id:"upload-photo",type:"file",accept:"image/*",name:"photo",onChange:function(e){!function(e,a){var t=URL.createObjectURL(e.target.files[0]);t&&(document.getElementById(""+a).src=t)}(e,y.pictures[0].id)}}),l.a.createElement("div",{className:"button-container"},l.a.createElement("p",{title:"Update Photo",className:"text-muted pointer",onClick:function(e){!function(e,t){var n;if(Object(k.a)(JSON.parse(localStorage.accessToken)),e.preventDefault(),N()){d(!0);var l=new FormData;"no-picture"===t?n="https://www.moogleapi.com/api/v1/pictures/update/":(n="https://www.moogleapi.com/api/v1/pictures/update/",l.append("id",t)),l.append("photo",document.forms["character-form"]["upload-photo"].files[0]),l.append("url",document.getElementById(""+t).src),l.append("primary",1),l.append("collectionId",a);var r=JSON.parse(localStorage.accessToken);fetch(n,{method:"post",headers:{Authorization:"Bearer "+r},body:l}).then((function(e){200===e.status?d(!1):401===e.status||(403===e.status?(d(!1),v(!0),console.log("user cannot add pictures")):(d(!1),console.log("failed"),console.log(e.errors)))}))}}(e,y.pictures[0].id)}},"Update Photo"))),l.a.createElement("div",{className:"col-sm-6 col-md-6"},l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"name",defaultValue:y.name,placeholder:"character name"}),l.a.createElement("label",null,"name")),l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"japaneseName",defaultValue:y.japaneseName,placeholder:"japanese name"}),l.a.createElement("label",null,"japanese name")),l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"age",defaultValue:y.age,placeholder:"age"}),l.a.createElement("label",null,"age")),l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"gender",defaultValue:y.gender,placeholder:"gender"}),l.a.createElement("label",null,"gender")),l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"race",defaultValue:y.race,placeholder:"race"}),l.a.createElement("label",null,"race")),l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"job",defaultValue:y.job,placeholder:"job"}),l.a.createElement("label",null,"class")),l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"height",defaultValue:y.height,placeholder:"height"}),l.a.createElement("label",null,"height")),l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"weight",defaultValue:y.weight,placeholder:"weight"}),l.a.createElement("label",null,"weight")),l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"origin",defaultValue:y.origin,placeholder:"origin"}),l.a.createElement("label",null,"origin"))),l.a.createElement("div",{className:"col-sm-12 col-md-12"},l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("textarea",{className:"character-form-control floating-textarea",name:"description",defaultValue:y.description,placeholder:"description"}),l.a.createElement("label",null,"description")),l.a.createElement("div",{className:"button-container"},l.a.createElement("p",{title:"Delete",className:"text-danger mr-2 pointer",onClick:function(t){!function(t){if(Object(k.a)(JSON.parse(localStorage.accessToken)),t.preventDefault(),N()){d(!0);var n=JSON.parse(localStorage.accessToken);fetch("https://www.moogleapi.com/api/v1/characters/delete/"+a,{method:"delete",headers:{Authorization:"Bearer "+n}}).then((function(a){if(200===a.status)return e.history.push("/index"),l.a.createElement(c.a,{to:"/index"});401===a.status||(403===a.status?(d(!1),v(!0),console.log("user cannot delete character")):(console.log("delete failed"),console.log(a.errors)))}))}else console.log("validation failed")}(t)}},"Delete Character"),l.a.createElement("p",{title:"Save",className:"text-muted ml-2 pointer",onClick:function(t){!function(t){if(Object(k.a)(JSON.parse(localStorage.accessToken)),t.preventDefault(),N()){d(!0);var n=new FormData;n.append("id",a),n.append("name",document.querySelector('[name="name"]').value),n.append("japaneseName",document.querySelector('[name="japaneseName"]').value),n.append("age",document.querySelector('[name="age"]').value),n.append("gender",document.querySelector('[name="gender"]').value),n.append("race",document.querySelector('[name="race"]').value),n.append("job",document.querySelector('[name="job"]').value),n.append("height",document.querySelector('[name="height"]').value),n.append("weight",document.querySelector('[name="weight"]').value),n.append("origin",document.querySelector('[name="origin"]').value),n.append("description",document.querySelector('[name="description"]').value);var r=JSON.parse(localStorage.accessToken);fetch("https://www.moogleapi.com/api/v1/characters/update/"+a,{method:"put",headers:{Authorization:"Bearer "+r},body:n}).then((function(t){if(200===t.status)return d(!1),e.history.push("/edit/"+a),l.a.createElement(c.a,{to:"/edit/"+a});401===t.status||(403===t.status?(d(!1),v(!0),console.log("user cannot update character")):(console.log("update failed"),console.log(t.errors)))}))}else console.log("validation failed")}(t)}},"Update Character"))))),l.a.createElement("div",{className:"col-sm-4 col-md-4"},l.a.createElement("select",{id:"stat-select",className:"form-control stat-select mb-25",onChange:function(e){!function(e){var a,t=document.getElementsByClassName("stat-container");for(a=0;a<t.length;a+=1)t[a].style.display="none";document.getElementById(e.target.value).style.display="block"}(e)}},y.stats.length>0?l.a.createElement("option",{value:"0"},"Select a stat model..."):l.a.createElement("option",{value:"0"},"No stats entered..."),l.a.createElement("option",{value:"1"},"Add a new stat model..."),y.stats.length>0?y.stats.map((function(e){return l.a.createElement("option",{key:e.id,value:e.id},e.platform," - ",e.class," - level: ",e.level)})):l.a.createElement(l.a.Fragment,null)),l.a.createElement("div",{id:"0",style:{display:s?"block":"none"},className:"stat-container"}),l.a.createElement("div",{id:"1",style:{display:s?"block":"none"},className:"stat-container"},l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"platform",placeholder:"platform"}),l.a.createElement("label",null,"platform")),l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"class",placeholder:"class"}),l.a.createElement("label",null,"class")),l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"level",placeholder:"level"}),l.a.createElement("label",null,"level")),l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"hitPoints",placeholder:"hit points"}),l.a.createElement("label",null,"hit points")),l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"manaPoints",placeholder:"mana points"}),l.a.createElement("label",null,"mana points")),l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"attack",placeholder:"attack"}),l.a.createElement("label",null,"attack")),l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"defense",placeholder:"defense"}),l.a.createElement("label",null,"defense")),l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"magic",placeholder:"magic"}),l.a.createElement("label",null,"magic")),l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"magicDefense",placeholder:"magic defense"}),l.a.createElement("label",null,"magic defense")),l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"agility",placeholder:"agility"}),l.a.createElement("label",null,"agility")),l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"spirit",placeholder:"spirit"}),l.a.createElement("label",null,"spirit")),l.a.createElement("div",{className:"button-container"},l.a.createElement("p",{title:"Save Stats",className:"text-muted pointer",onClick:function(t){!function(t){if(Object(k.a)(JSON.parse(localStorage.accessToken)),t.preventDefault(),N(1)){d(!0);var n=new FormData;n.append("platform",document.getElementById("1").querySelector('[name="platform"]').value),n.append("class",document.getElementById("1").querySelector('[name="class"]').value),n.append("level",document.getElementById("1").querySelector('[name="level"]').value),n.append("hitPoints",document.getElementById("1").querySelector('[name="hitPoints"]').value),n.append("manaPoints",document.getElementById("1").querySelector('[name="manaPoints"]').value),n.append("attack",document.getElementById("1").querySelector('[name="attack"]').value),n.append("defense",document.getElementById("1").querySelector('[name="defense"]').value),n.append("magic",document.getElementById("1").querySelector('[name="magic"]').value),n.append("magicDefense",document.getElementById("1").querySelector('[name="magicDefense"]').value),n.append("agility",document.getElementById("1").querySelector('[name="agility"]').value),n.append("spirit",document.getElementById("1").querySelector('[name="spirit"]').value),n.append("collectionId",a);var r=JSON.parse(localStorage.accessToken);fetch("https://www.moogleapi.com/api/v1/stats/add/",{method:"post",headers:{Authorization:"Bearer "+r},body:n}).then((function(t){if(200===t.status)return e.history.push("/edit/"+a),l.a.createElement(c.a,{to:"/edit/"+a});401===t.status||(403===t.status?(d(!1),v(!0),console.log("user cannot add stats")):(console.log("add failed"),console.log(t.errors)))}))}else console.log("validation failed")}(t)}},"Add Stats"))),y.stats.map((function(t){return l.a.createElement("div",{id:t.id,key:t.id,style:{display:s?"block":"none"},className:"stat-container"},l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"platform",defaultValue:t.platform,placeholder:"platform"}),l.a.createElement("label",null,"platform")),l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"class",defaultValue:t.class,placeholder:"class"}),l.a.createElement("label",null,"class")),l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"level",defaultValue:t.level,placeholder:"level"}),l.a.createElement("label",null,"level")),l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"hitPoints",defaultValue:t.hitPoints,placeholder:"hit points"}),l.a.createElement("label",null,"hit points")),l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"manaPoints",defaultValue:t.manaPoints,placeholder:"mana points"}),l.a.createElement("label",null,"mana points")),l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"attack",defaultValue:t.attack,placeholder:"attack"}),l.a.createElement("label",null,"attack")),l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"defense",defaultValue:t.defense,placeholder:"defense"}),l.a.createElement("label",null,"defense")),l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"magic",defaultValue:t.magic,placeholder:"magic"}),l.a.createElement("label",null,"magic")),l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"magicDefense",defaultValue:t.magicDefense,placeholder:"magic defense"}),l.a.createElement("label",null,"magic defense")),l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"agility",defaultValue:t.agility,placeholder:"agility"}),l.a.createElement("label",null,"defense")),l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"spirit",defaultValue:t.spirit,placeholder:"spirit"}),l.a.createElement("label",null,"spirit")),l.a.createElement("div",{className:"button-container"},l.a.createElement("p",{title:"Delete",className:"text-danger mr-2 pointer",onClick:function(n){!function(t,n){if(Object(k.a)(JSON.parse(localStorage.accessToken)),t.preventDefault(),N()){d(!0);var r=JSON.parse(localStorage.accessToken);fetch("https://www.moogleapi.com/api/v1/stats/delete/"+n,{method:"delete",headers:{Authorization:"Bearer "+r}}).then((function(t){if(200===t.status)return e.history.push("/edit/"+a),l.a.createElement(c.a,{to:"/edit/"+a});401===t.status||(403===t.status?(d(!1),v(!0),console.log("user cannot delete stats")):(console.log("delete failed"),console.log(t.errors)))}))}else console.log("validation failed")}(n,t.id)}},"Delete Stats"),l.a.createElement("p",{title:"Update Stats",className:"text-muted ml-2 pointer",onClick:function(n){!function(t,n){if(Object(k.a)(JSON.parse(localStorage.accessToken)),t.preventDefault(),N()){d(!0);var r=new FormData;r.append("id",n),r.append("platform",document.getElementById(""+n).querySelector('[name="platform"]').value),r.append("class",document.getElementById(""+n).querySelector('[name="class"]').value),r.append("level",document.getElementById(""+n).querySelector('[name="level"]').value),r.append("hitPoints",document.getElementById(""+n).querySelector('[name="hitPoints"]').value),r.append("manaPoints",document.getElementById(""+n).querySelector('[name="manaPoints"]').value),r.append("attack",document.getElementById(""+n).querySelector('[name="attack"]').value),r.append("defense",document.getElementById(""+n).querySelector('[name="defense"]').value),r.append("magic",document.getElementById(""+n).querySelector('[name="magic"]').value),r.append("magicDefense",document.getElementById(""+n).querySelector('[name="magicDefense"]').value),r.append("agility",document.getElementById(""+n).querySelector('[name="agility"]').value),r.append("spirit",document.getElementById(""+n).querySelector('[name="spirit"]').value);var o=JSON.parse(localStorage.accessToken);fetch("https://www.moogleapi.com/api/v1/stats/update/"+n,{method:"put",headers:{Authorization:"Bearer "+o},body:r}).then((function(t){if(200===t.status)return e.history.push("/edit/"+a),l.a.createElement(c.a,{to:"/edit/"+a});401===t.status||(403===t.status?(d(!1),v(!0),console.log("user cannot update stats")):(console.log("update failed"),console.log(t.errors)))}))}else console.log("validation failed")}(n,t.id)}},"Update Stats")))}))))))),l.a.createElement(x,null))}return l.a.createElement(l.a.Fragment,null,l.a.createElement(S,null),l.a.createElement("div",{className:"component"},l.a.createElement("span",{className:"loader text-primary"},l.a.createElement("i",{className:"fab fa-superpowers fa-spin text-muted"}))),l.a.createElement(x,null))},A=t(29),V=t.n(A);var P=function(e){var a=Object(n.useState)(!1),t=Object(i.a)(a,2),r=t[0],o=t[1],s=Object(n.useState)(!1),m=Object(i.a)(s,2),u=m[0],p=m[1],d=function(){return p(!1)};return l.a.createElement(l.a.Fragment,null,l.a.createElement(S,null),l.a.createElement("div",{className:"component"},l.a.createElement("div",{className:"container top-margin"},l.a.createElement(C.a,Object.assign({show:u,onHide:d},e,{size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),l.a.createElement(C.a.Header,null,l.a.createElement(C.a.Title,null,"Test Account")),l.a.createElement(C.a.Body,null,l.a.createElement("p",null,"Your account doesn't have access to make changes.")),l.a.createElement(C.a.Footer,null,l.a.createElement(T.a,{variant:"secondary",onClick:d},"Close"))),l.a.createElement("div",{className:"overlay",style:{display:r?"block":"none"}},l.a.createElement("span",{className:"loader text-primary"},l.a.createElement("i",{className:"fab fa-superpowers fa-spin text-muted"}))),l.a.createElement("form",{name:"character-form",id:"character-form",encType:"multipart/form-data",method:"put"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-12 col-md-12"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-6 col-md-6"},l.a.createElement("img",{className:"img-character-profile tilt moogle",src:V.a,alt:"Add a new character!"}),l.a.createElement("p",{className:"mt-5 font-weight-bold"},"You'll be able to upload pictures and add/edit stats after the initial creation.")),l.a.createElement("div",{className:"col-sm-6 col-md-6"},l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"name",placeholder:"character name"}),l.a.createElement("label",null,"name")),l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"japaneseName",placeholder:"japanese name"}),l.a.createElement("label",null,"japanese name")),l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"age",placeholder:"age"}),l.a.createElement("label",null,"age")),l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"gender",placeholder:"gender"}),l.a.createElement("label",null,"gender")),l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"race",placeholder:"race"}),l.a.createElement("label",null,"race")),l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"job",placeholder:"class"}),l.a.createElement("label",null,"class")),l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"height",placeholder:"height"}),l.a.createElement("label",null,"height")),l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"weight",placeholder:"weight"}),l.a.createElement("label",null,"weight")),l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("input",{type:"text",className:"form-control floating-input",name:"origin",placeholder:"origin"}),l.a.createElement("label",null,"origin"))),l.a.createElement("div",{className:"col-sm-12 col-md-12"},l.a.createElement("div",{className:"input-group input-group-override floating-label"},l.a.createElement("textarea",{className:"character-form-control floating-textarea",name:"description",placeholder:"description"}),l.a.createElement("label",null,"description")),l.a.createElement("div",{className:"button-container"},l.a.createElement("p",{title:"Add Character",className:"text-muted pointer",onClick:function(a){!function(a){Object(k.a)(JSON.parse(localStorage.accessToken)),a.preventDefault(),o(!0);var t=new FormData;t.append("name",document.querySelector('[name="name"]').value),t.append("japaneseName",document.querySelector('[name="japaneseName"]').value),t.append("age",document.querySelector('[name="age"]').value),t.append("gender",document.querySelector('[name="gender"]').value),t.append("race",document.querySelector('[name="race"]').value),t.append("job",document.querySelector('[name="job"]').value),t.append("height",document.querySelector('[name="height"]').value),t.append("weight",document.querySelector('[name="weight"]').value),t.append("origin",document.querySelector('[name="origin"]').value),t.append("description",document.querySelector('[name="description"]').value),fetch("https://www.moogleapi.com/api/v1/characters/add",{method:"post",headers:{Authorization:"Bearer "+JSON.parse(localStorage.accessToken)},body:t}).then((function(a){if(200===a.status)return a.json().then((function(a){return e.history.push("/edit/"+a.character.id),l.a.createElement(c.a,{to:"/edit/"+a.character.id})}));401===a.status?console.log("Still got a 401, bro."):403===a.status||405===a.status?(o(!1),p(!0),console.log("user cannot add characters")):(console.log("add failed"),console.log(a.errors))}))}(a)}},"Add Character"))))))))),l.a.createElement(x,null))};t(48),t(49);var F=function(e){var a=JSON.parse(localStorage.getItem("accessToken")),t=Object(n.useState)(a),r=Object(i.a)(t,2),o=r[0],u=r[1];return l.a.createElement(m.Provider,{value:{authToken:o,setAuthToken:function(e){localStorage.setItem("accessToken",JSON.stringify(e)),u(e)}}},l.a.createElement(c.b,{basename:""},l.a.createElement(s.b,{exact:!0,path:"/",component:w}),l.a.createElement(d,{exact:!0,path:"/index/",component:q}),l.a.createElement(s.b,{exact:!0,path:"/login/",component:f}),l.a.createElement(s.b,{exact:!0,path:"/feed/",component:w}),l.a.createElement(d,{exact:!0,path:"/profile/",component:j}),l.a.createElement(d,{exact:!0,path:"/add/",component:P}),l.a.createElement(d,{exact:!0,path:"/edit/:id/",component:D})))},U=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Y(e,a){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),a&&a.onUpdate&&a.onUpdate(e)):(console.log("Content is cached for offline use."),a&&a.onSuccess&&a.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(l.a.createElement(c.a,null,l.a.createElement(F,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var a="".concat("","/service-worker.js");U?(!function(e,a){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var n=t.headers.get("content-type");404===t.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Y(e,a)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(a,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Y(a,e)}))}}()}},[[31,1,2]]]);
//# sourceMappingURL=main.efe820cd.chunk.js.map